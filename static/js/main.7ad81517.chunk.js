(this["webpackJsonpreact-firebase-crud"]=this["webpackJsonpreact-firebase-crud"]||[]).push([[0],{168:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);var n=a(55),r=a.n(n),c=a(114),i=a(25),s=a(17),o=a(36),u=a(117),l=a(0),d=a.n(l),b=a(110),j=a.n(b),p=a(26),O=a(237),f=a(226),h=a(238),x=a(236),v=a(6),m=a(3),y=a.n(m),g=a(8),k=a(24),w=a(240),C=a(239),S=a(231),A=a(244),E=a(241),I=a(99),D=a.n(I),P=a(112),W=a.n(P),F=a(246),z=a(250),B=a(249),R=a(248),T=a(225),q=a(111),H=a(42),J=(Object(q.a)({apiKey:"AIzaSyBlO9KA68Xclh6NSiq8igsjAyWY__uP76U",authDomain:"class-906aa.firebaseapp.com",projectId:"class-906aa",storageBucket:"class-906aa.appspot.com",messagingSenderId:"397132249400",appId:"1:397132249400:web:cbc2257bee8aad9a9be9cd",measurementId:"G-9DWDHNTMLW"}),Object(H.e)()),K=function(e,t,a,n){return new Promise(function(){var r=Object(g.a)(y.a.mark((function r(c,i){var s;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:try{s=Object(H.b)(J,e),Object(H.f)(s,(function(e){var r=[];e.forEach((function(e){var n;r.push((n={id:e.id},Object(v.a)(n,t,e.data()[t]),Object(v.a)(n,a,e.data()[a]),n))})),n(r),c()}))}catch(o){i(o.message)}return r.abrupt("return");case 2:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}())},N=function(e){var t=e.id,a=e.type,n=e.data,r=e.action;return new Promise(function(){var e=Object(g.a)(y.a.mark((function e(c,i){var s,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"update"!==r){e.next=7;break}return s=Object(H.d)(J,a,t),e.next=5,Object(H.g)(s,n);case 5:e.next=11;break;case 7:if("add"!==r){e.next=11;break}return o=Object(H.b)(J,a),e.next=11,Object(H.a)(o,n);case 11:c(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),i(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a){return e.apply(this,arguments)}}())},_=function(e,t){return new Promise(function(){var a=Object(g.a)(y.a.mark((function a(n,r){var c;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=[],t.forEach((function(t){c.push(Object(H.c)(Object(H.d)(J,e,t)))})),a.next=5,Promise.all(c);case 5:n(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),r(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e,t){return a.apply(this,arguments)}}())},G=a(2);function L(e){var t=e.open,a=e.close,n=e.data,r=e.action,c=e.type,i=e.handleAlertOpen,u=d.a.useState({primary:"",secondary:"",id:""}),b=Object(s.a)(u,2),j=b[0],p=b[1],O=function(){var e=Object(g.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.fromEntries(Object.entries(j).filter((function(e){return"id"!==Object(s.a)(e,1)[0]}))),e.prev=1,e.next=4,N({id:j.id,type:c,data:n,action:r});case 4:a(),i({message:"".concat(r," successfully"),severity:"success"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({message:e.t0,severity:"error"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){p(n)}),[t]),Object(G.jsxs)(F.a,{open:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",component:"span",onClose:a,children:[console.log("render"),Object(G.jsx)(R.a,{id:"alert-dialog-title",children:"add"===r?"\u65b0\u589e":"\u4fee\u6539"}),Object(G.jsx)(B.a,{children:Object.keys(j).map((function(e,t){return Object(G.jsx)(T.a,{required:"id"!==e,disabled:"id"===e,error:""===j[e],label:e,value:j[e],component:"div",onChange:function(t){return p((function(a){return Object(o.a)(Object(o.a)({},a),{},Object(v.a)({},e,t.target.value))}))},sx:{marginTop:5,width:"100%"}},t)}))}),Object(G.jsxs)(z.a,{children:[Object(G.jsx)(w.a,{onClick:O,color:"primary",children:r}),Object(G.jsx)(w.a,{onClick:a,color:"primary",autoFocus:!0,children:"cancel"})]})]})}function M(e,t){return e.open===t.open}var U=d.a.memo(L,M),X=a(245),Y=a(113),Q=a.n(Y),V=a(232),Z=a(228),$=a(229),ee=a(243),te=a(242),ae=a(224),ne="bottom",re="center",ce=l.forwardRef((function(e,t){return Object(G.jsx)(Z.a,Object(o.a)({elevation:6,ref:t,variant:"filled"},e))}));function ie(e){var t=e.type,a=e.primary,n=e.secondary,r=l.useState([]),c=Object(s.a)(r,2),i=c[0],u=c[1],d=l.useRef("add"),b=l.useState(!1),j=Object(s.a)(b,2),p=j[0],O=j[1],f=l.useState({primary:"",secondary:"",id:""}),h=Object(s.a)(f,2),m=h[0],I=h[1],P=l.useState({open:!1,message:"",severity:"success"}),F=Object(s.a)(P,2),z=F[0],B=F[1],R=l.useState([]),T=Object(s.a)(R,2),q=T[0],H=T[1],J=l.useState(!1),N=Object(s.a)(J,2),L=N[0],M=N[1],Y=function(e){B(Object(o.a)({open:!0},e))},Z=function(){B(Object(o.a)(Object(o.a)({},z),{},{open:!1}))},ie=function(e,t){d.current=t,I(e),O(!0)},se=function(){var e=Object(g.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(t,q);case 3:M(!1),Y({message:"delete successfully",severity:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Y({message:e.t0,severity:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(g.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K(t,a,n,u);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Y({message:e.t0,severity:"error"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return l.useEffect((function(){oe()}),[]),Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(ae.a,Object(o.a)(Object(o.a)({in:L},L?{timeout:1200}:{}),{},{children:Object(G.jsx)(x.a,{sx:{width:"100%"},children:Object(G.jsx)(w.a,{variant:"outlined",color:"secondary",startIcon:Object(G.jsx)(D.a,{}),onClick:se,fullWidth:!0,children:"Delete"})})})),i.map((function(e,t){return Object(G.jsx)(C.a,{children:Object(G.jsxs)(S.a,{secondaryAction:Object(G.jsx)(E.a,{edge:"end",onClick:function(){return ie(e,"update")},children:Object(G.jsx)(W.a,{})}),children:[Object(G.jsx)(te.a,{orientation:"horizontal",in:L,children:Object(G.jsx)(ee.a,{onClick:function(){return function(e){var t=q.indexOf(e),a=Object(k.a)(q);-1===t?a.push(e):a.splice(t,1),H(a)}(e.id)},children:Object(G.jsx)($.a,{edge:"start",color:"secondary",checked:-1!==q.indexOf(e.id),tabIndex:-1,disableRipple:!0})})}),Object(G.jsx)(A.a,{primary:e[a],secondary:e[n]})]})},t)})),Object(G.jsx)(X.a,{color:"primary","aria-label":"add",sx:{position:"absolute",bottom:10,right:10},onClick:function(){var e;return ie((e={},Object(v.a)(e,a,""),Object(v.a)(e,n,""),e),"add")},children:Object(G.jsx)(Q.a,{})}),Object(G.jsx)(X.a,{color:"secondary","aria-label":"add",sx:{position:"absolute",bottom:80,right:10},onClick:function(){M((function(e){return!e}))},children:Object(G.jsx)(D.a,{sx:{color:"white"}})}),Object(G.jsx)(U,{open:p,type:t,handleAlertOpen:Y,close:function(){return O(!1)},data:m,action:d.current}),Object(G.jsx)(V.a,{anchorOrigin:{vertical:ne,horizontal:re},open:z.open,autoHideDuration:3e3,onClose:Z,sx:{position:"absolute"},children:Object(G.jsx)(ce,{onClose:Z,severity:z.severity,sx:{width:"100%"},children:z.message})})]})}var se=["children","value","index"];function oe(e){var t=e.children,a=e.value,n=e.index,r=Object(u.a)(e,se);return Object(G.jsx)("div",Object(o.a)(Object(o.a)({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},r),{},{children:a===n&&Object(G.jsx)(x.a,{sx:{p:3,height:"87vh",position:"relative"},children:t})}))}function ue(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}function le(){var e=Object(p.a)(),t=l.useState(0),a=Object(s.a)(t,2),n=a[0],r=a[1];return Object(G.jsxs)(x.a,{sx:{width:"100%",padding:0},children:[Object(G.jsx)(O.a,{position:"static",sx:{margin:0},children:Object(G.jsxs)(f.a,{value:n,onChange:function(e,t){r(t)},indicatorColor:"secondary",textColor:"inherit",variant:"fullWidth","aria-label":"full width tabs example",sx:{margin:0},children:[Object(G.jsx)(h.a,Object(o.a)({label:"product"},ue(0))),Object(G.jsx)(h.a,Object(o.a)({label:"employee"},ue(1)))]})}),Object(G.jsxs)(j.a,{axis:"rtl"===e.direction?"x-reverse":"x",index:n,onChangeIndex:function(e){r(e)},children:[Object(G.jsx)(oe,{value:n,index:0,dir:e.direction,children:Object(G.jsx)(ie,{type:"product",primary:"desc",secondary:"price"})}),Object(G.jsx)(oe,{value:n,index:1,dir:e.direction,children:Object(G.jsx)(ie,{type:"employee",primary:"name",secondary:"career"})})]})]})}var de=a(234),be=a(116),je=Object(be.a)({breakpoints:{values:{xs:0,phone:300,sm:600,md:900,lg:1200,xl:1536}},palette:{primary:{light:"#A0C4E6",main:"#245298",dark:"#1D3F73"},secondary:{light:"#EC8867",main:"#F38500",dark:"#EA6A47"},contrastThreshold:3,tonalOffset:.2}});function pe(){return Object(G.jsx)(c.a,{children:Object(G.jsx)(de.a,{theme:je,children:Object(G.jsx)(i.c,{children:Object(G.jsx)(i.a,{exact:!0,path:"/",component:le})})})})}a(168);var Oe=document.getElementById("root");r.a.render(Object(G.jsx)(pe,{}),Oe)}},[[169,1,2]]]);
//# sourceMappingURL=main.7ad81517.chunk.js.map